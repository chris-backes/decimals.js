function cleanseStr(t){if(t instanceof Decimal&&(t=t.val),"string"!=typeof t&&(t=t.toString()),!/[+-]?(?=\.\d|\d)(?:\d+)?(?:\.?\d*)(?:[eE][+-]?\d+)?/.test(t))throw new Error("Parameter is not a float");for(;"0"===t.charAt(t.length-1);)t=t.substring(0,t.length-1);return"."===t.charAt(0)&&(t="0"+t),t}function cleanseNum(t){if(t instanceof Decimal)return t.num;if("string"==typeof t){if(!/[+-]?(?=\.\d|\d)(?:\d+)?(?:\.?\d*)(?:[eE][+-]?\d+)?/.test(t))throw new Error("Parameter is not a float");return parseFloat(t)}return t}function chopZeros(t){if(-1!==t.indexOf(".")){for(;"0"===t.charAt(t.length-1);)t=t.substring(0,t.length-1);"."===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1))}return t}class Decimal{constructor(t){t=cleanseStr(t),this.val="string"==typeof t?t:t.toString()}get num(){return parseFloat(this.val)}get decimalLength(){let t=this.val.length-this.val.indexOf(".")-1;return t===this.val.length?0:t}get numLength(){let t=0;return this.val.includes("-")&&t++,this.val.includes(".")&&t++,this.val.length-t}get length(){return this.val.length}precision(t,e=!0){let[r,n]=this.val.split("."),l=!1;if(n.length<t)return this.val;for(;n.length<t;)n=n.concat("0");for(;n.length>t;)l=parseInt(n.charAt(n.length-1))>4,n=n.substring(0,n.length-1);if(e&&l){let t=(parseInt(n.charAt(n.length-1))+1).toString();n=n.substring(0,n.length-1)+t}return this.val=r+"."+n,this.val}static equality(t,e){return(t=cleanseNum(t))===(e=cleanseNum(e))}isEqual(t){return this.num===cleanseNum(t)}static addition(t,e){for(e=cleanseStr(e),t=cleanseStr(t);"0"===t.charAt(t.length-1);)t=t.substring(0,t.length-1);for(;"0"===e.charAt(e.length-1);)e=e.substring(0,e.length-1);let[r,n]=t.split("."),[l,a]=e.split("."),s=n.length,i=a.length,h=s>i?s:i,o=10**h,g=10**Math.abs(s-i);"-"===r.charAt(0)&&(n="-"+n),"-"===l.charAt(0)&&(a="-"+a),n=parseInt(n),a=parseInt(a),s>i?a*=g:s<i&&(n*=g);let c=n+a,u=0;c>=o&&"-"!==r.charAt(0)&&"-"!==l.charAt(0)&&(c-=o,u=1);let f="blank";if(Math.abs(c)>=o&&"-"===r.charAt(0)&&"-"===l.charAt(0))c+=o,u=-1;else if(("-"===r.charAt(0)||"-"===l.charAt(0))&&c){let r=parseInt(e),n=parseInt(t);f=Math.abs(r)===Math.abs(n)?"0":(Math.abs(r),Math.abs(n),Decimal.methodNegPosi())}for(c=Math.abs(c).toString();c.length<h;)c="0".concat(c);let p=(parseInt(r)+parseInt(l)+u).toString()+"."+c;return t=chopZeros(t="blank"===f?p:f)}add(t){return this.val=Decimal.addition(this.val,t),this.val}static subtraction(t,e){for(e=cleanseStr(e),t=cleanseStr(t);"0"===t.charAt(t.length-1);)t=t.substring(0,t.length-1);for(;"0"===e.charAt(e.length-1);)e=e.substring(0,e.length-1);let[r,n]=t.split("."),[l,a]=e.split("."),s=n.length,i=a.length,h=s>i?s:i,o=10**h,g=Math.abs(s-i);n=parseInt(n),a=parseInt(a),"-"===r.charAt(0)&&(n*=-1),"-"===l.charAt(0)&&(a*=-1);let c=0;g=10**g,s>i?a*=g:s<i&&(n*=g);let u=n-a;for(u>=o&&(u-=o,c=1),u<0&&(u+=o,c=-1),u=Math.abs(u).toString();u.length<h;)u="0".concat(u);return chopZeros((parseInt(r)-parseInt(l)+c).toString()+"."+u)}subtract(t){return this.val=Decimal.subtraction(this.val,t),this.val}static multiplication(t,e){let r=!1;if(e=cleanseStr(e),"-"===(t=cleanseStr(t)).charAt(0)&&(r=!r,t=t.substring(1)),"-"===e.charAt(0)&&(r=!r,e=e.substring(1)),"0"===t)return"0";if("0"===e)return"0;";for(;"0"===t.charAt(t.length-1);)t=t.substring(0,t.length-1);for(;"0"===e.charAt(e.length-1);)e=e.substring(0,e.length-1);e.length>8&&(e=e.substring(0,8)),t.length>8&&(t=t.substring(0,8));const n=(t.split(".")[1]?.length??0)+(e.split(".")[1]?.length??0);let l=t.replace(".","").split("").map((t=>parseInt(t))).reverse(),a=e.replace(".","").split("").map((t=>parseInt(t))).reverse(),s=[0];for(let t=0;t<a.length;t++)for(let e=0;e<l.length;e++){let r=a[t]*l[e];void 0!==s[t+e]?s[t+e]=s[t+e]+r:s.push(r)}let i=0;for(let t=0;t<s.length;t++){let e=s[t]+i;i=Math.floor(e/10),s[t]=e%10}for(;0===s[s.length-1];)s.pop();0!==i&&s.push(i),s=s.reverse().join("");let h=s.length-n;return h>=0&&(s=s.substring(0,h)+"."+s.substring(h)),"."===s.charAt(s.length-1)&&(s=s.substring(0,s.length-1)),r&&(s="-"+s),s=chopZeros(s),s}multiply(t){return this.val=Decimal.multiplication(this.val,t),this.val}static division(t,e,r=10,n=!0){"number"!=typeof r&&(r=10),r>15&&(r=15);let l=!1,a=cleanseNum(t)/cleanseNum(e);if(a=a.toString().indexOf("."),t=cleanseStr(t),e=cleanseStr(e),"-"===t.charAt(0)&&(l=!l,t=t.substring(1)),"-"===e.charAt(0)&&(l=!l,e=e.substring(1)),"0"===t)return"0";if("0"===e)throw new Error("Cannot divide by zero");let s=-1!==e.indexOf(".")?e.length-e.indexOf(".")-1:0,i=-1!==t.indexOf(".")?t.length-t.indexOf(".")-1:0;for(-1===t.indexOf(".")&&(i=0),-1===e.indexOf(".")&&(s=0),e=e.replace(".",""),t=t.replace(".","");s>i;)t+="0",i++;for(;i>s;)e+="0",s++;e=parseInt(e),t=parseInt(t);let h=Math.floor(t/e);if(t%=e,l&&(h*=-1),0===h)for(h="0.";r>0&&0!==t;)t*=10,h+=Math.floor(t/e).toString(),t%=e,r--;else for(h=h.toString()+".";r>0&&0!==t;)t*=10,h+=Math.floor(t/e).toString(),t%=e,r--;if(n&&(t*=10,Math.floor(t/e)>4)){let t=parseInt(h.charAt(h.length-1))+1;h=h.substring(0,h.length-1)+t.toString()}return h=chopZeros(h),h}divide(t,e,r){return this.val=Decimal.division(this.val,t,e,r),this.val}static exponentiation(t,e){let r=t=cleanseNum(t);if(0===(e=cleanseNum(e)))return 1;if(!(e%1==0&&e>0))throw new Error("I only work for positive integers so far");{let n=e.toString(2);for(let e=1;e<n.length;e++)r*=r,"1"===n.charAt(e)&&(r*=t)}return r}exponentiate(t){return this.val=Decimal.exponentiation(this.val,t),this.val}}